"use strict";(self.webpackChunkneoforged_docs=self.webpackChunkneoforged_docs||[]).push([[9092],{6992:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var o=t(5893),a=t(1151);const s={},i="I18n and L10n",r={id:"resources/client/i18n",title:"I18n and L10n",description:"I18n (short for internationalization) is the way of designing a program to work with multiple languages. L10n (short for localization) is the process of translating text into the user's language. Minecraft implements these using Components.",source:"@site/docs/resources/client/i18n.md",sourceDirName:"resources/client",slug:"/resources/client/i18n",permalink:"/Neoforge-Korean-Documentation/en/docs/resources/client/i18n",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Resources",permalink:"/Neoforge-Korean-Documentation/en/docs/resources/"},next:{title:"Models",permalink:"/Neoforge-Korean-Documentation/en/docs/resources/client/models/"}},l={},d=[{value:"<code>Component</code>s",id:"components",level:2},{value:"<code>MutableComponent</code>",id:"mutablecomponent",level:3},{value:"Text Formatting",id:"text-formatting",level:3},{value:"Language Files",id:"language-files",level:2},{value:"Translation Keys",id:"translation-keys",level:3},{value:"Translating Mod Metadata",id:"translating-mod-metadata",level:3},{value:"Datagen",id:"datagen",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"i18n-and-l10n",children:"I18n and L10n"}),"\n",(0,o.jsxs)(n.p,{children:["I18n (short for internationalization) is the way of designing a program to work with multiple languages. L10n (short for localization) is the process of translating text into the user's language. Minecraft implements these using ",(0,o.jsx)(n.code,{children:"Component"}),"s."]}),"\n",(0,o.jsxs)(n.h2,{id:"components",children:[(0,o.jsx)(n.code,{children:"Component"}),"s"]}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.code,{children:"Component"})," is a piece of text with metadata, with the metadata including things such as text formatting. It can be created in one of the following ways (all of the following are static methods in the ",(0,o.jsx)(n.code,{children:"Component"})," interface):"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Method"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"empty"})}),(0,o.jsx)(n.td,{children:"Creates an empty component."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"literal"})}),(0,o.jsx)(n.td,{children:"Creates a component with the given text and directly displays that text without translating."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nullToEmpty"})}),(0,o.jsx)(n.td,{children:"Creates an empty component when given null, and a literal component otherwise."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"translatable"})}),(0,o.jsx)(n.td,{children:"Creates a translatable component. The given string is then resolved as a translation key (see below)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"keybind"})}),(0,o.jsx)(n.td,{children:"Creates a component containing the (translated) display name of the given keybind."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nbt"})}),(0,o.jsxs)(n.td,{children:["Creates a component representing the ",(0,o.jsx)(n.a,{href:"/Neoforge-Korean-Documentation/en/docs/datastorage/nbt",children:"NBT"})," at the given path."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"score"})}),(0,o.jsx)(n.td,{children:"Creates a component containing a scoreboard objective value."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"selector"})}),(0,o.jsxs)(n.td,{children:["Creates a component containing a list of entity names for a given ",(0,o.jsx)(n.a,{href:"https://minecraft.wiki/w/Target_selectors",children:"entity selector"}),"."]})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Component.translatable()"})," additionally has a vararg parameter that accepts string interpolation elements. This works similar to Java's ",(0,o.jsx)(n.code,{children:"String#format"}),", but always uses ",(0,o.jsx)(n.code,{children:"%s"})," instead of ",(0,o.jsx)(n.code,{children:"%i"}),", ",(0,o.jsx)(n.code,{children:"%d"}),", ",(0,o.jsx)(n.code,{children:"%f"})," and any other format specifier, calling ",(0,o.jsx)(n.code,{children:"#toString()"})," where needed."]}),"\n",(0,o.jsxs)(n.p,{children:["Every ",(0,o.jsx)(n.code,{children:"Component"})," can be resolved using ",(0,o.jsx)(n.code,{children:"#getString()"}),". Resolving is generally lazy, meaning that the server can specify a ",(0,o.jsx)(n.code,{children:"Component"}),", send it to the clients, and the clients will each resolve the ",(0,o.jsx)(n.code,{children:"Component"}),"s on their own (where different languages may result in different text). Many places in Minecraft will also directly accept ",(0,o.jsx)(n.code,{children:"Component"}),"s and take care of resolving for you."]}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsxs)(n.p,{children:["Never let a server translate a ",(0,o.jsx)(n.code,{children:"Component"}),". Always send ",(0,o.jsx)(n.code,{children:"Component"}),"s to the client and resolve them there."]})}),"\n",(0,o.jsx)(n.h3,{id:"mutablecomponent",children:(0,o.jsx)(n.code,{children:"MutableComponent"})}),"\n",(0,o.jsxs)(n.p,{children:["All constructed components are generally ",(0,o.jsx)(n.code,{children:"MutableComponent"}),"s. A ",(0,o.jsx)(n.code,{children:"MutableComponent"})," provides methods to add new component siblings that are appended to the end of this component and set the ",(0,o.jsx)(n.a,{href:"#text-formatting",children:"style"})," of the text. Constructing or modifying a component should always refer to ",(0,o.jsx)(n.code,{children:"MutableComponent"}),"s."]}),"\n",(0,o.jsx)(n.h3,{id:"text-formatting",children:"Text Formatting"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Component"}),"s can be formatted using ",(0,o.jsx)(n.code,{children:"Style"}),"s. ",(0,o.jsx)(n.code,{children:"Style"}),"s are immutable, creating a new ",(0,o.jsx)(n.code,{children:"Style"})," object when modified, and thus allowing them to be created once and then be reused as needed."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Styles can only be set using methods on ",(0,o.jsx)(n.code,{children:"MutableComponent"}),", so make sure to check that the ",(0,o.jsx)(n.code,{children:"Component"})," is a ",(0,o.jsx)(n.code,{children:"MutableComponent"}),"."]})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Style.EMPTY"})," can generally be used as a base to work off. Multiple ",(0,o.jsx)(n.code,{children:"Style"}),"s can be merged with ",(0,o.jsx)(n.code,{children:"Style#applyTo(Style other)"}),", which returns a new ",(0,o.jsx)(n.code,{children:"Style"})," that takes settings from the ",(0,o.jsx)(n.code,{children:"Style"})," the ",(0,o.jsx)(n.code,{children:"applyTo()"})," method was called on unless the respective setting is absent, in which case the setting from the ",(0,o.jsx)(n.code,{children:"Style"})," passed in as a parameter is used. ",(0,o.jsx)(n.code,{children:"Style"}),"s can then be applied to components like so:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'MutableComponent text = Component.literal("Hello World!");\n\n// Create a new style.\nStyle blue = Style.EMPTY.withColor(0x0000FF);\n// Styles use a builder-like pattern.\nStyle blueItalic = Style.EMPTY.withColor(0x0000FF).withItalic(true);\n// Besides italic, we can also make styles bold, underlined, strikethrough, or obfuscated.\nStyle bold          = Style.EMPTY.withBold(true);\nStyle underlined    = Style.EMPTY.withUnderlined(true);\nStyle strikethrough = Style.EMPTY.withStrikethrough(true);\nStyle obfuscated    = Style.EMPTY.withObfuscated(true);\n// Let\'s merge some styles together!\nStyle merged = blueItalic.applyTo(bold).applyTo(strikethrough);\n\n// Set a style on a component.\ntext.setStyle(merged);\n// Merge a new style into it.\ntext.withStyle(Style.EMPTY.withColor(0xFF0000));\n'})}),"\n",(0,o.jsx)(n.p,{children:"Another, more elaborate option of formatting is to use click and hover events:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'// We have a total of 6 options for a click event, and a total of 3 options for a hover event.\nClickEvent clickEvent;\nHoverEvent hoverEvent;\n\n// Opens the given URL in your default browser when clicked.\nclickEvent = new ClickEvent(ClickEvent.Action.OPEN_URL, "http://example.com/");\n// Opens the given file when clicked. For security reasons, this cannot be sent from a server.\nclickEvent = new ClickEvent(ClickEvent.Action.OPEN_FILE, "C:/example.txt");\n// Runs the given command when clicked.\nclickEvent = new ClickEvent(ClickEvent.Action.RUN_COMMAND, "/gamemode creative");\n// Suggests the given command in the chat when clicked.\nclickEvent = new ClickEvent(ClickEvent.Action.SUGGEST_COMMAND, "/gamemode creative");\n// Changes a book page when clicked. Irrelevant outside of a book screen context.\nclickEvent = new ClickEvent(ClickEvent.Action.CHANGE_PAGE, "1");\n// Copies the given text to the clipboard.\nclickEvent = new ClickEvent(ClickEvent.Action.COPY_TO_CLIPBOARD, "Hello World!");\n\n// Shows the given component when hovered. May be formatted as well.\n// Keep in mind that click or hover events won\'t work in a hover tooltip for obvious reasons.\nhoverEvent = new HoverEvent(HoverEvent.Action.SHOW_TEXT, Component.literal("Hello World!"));\n// Shows a complete tooltip of the given item stack when hovered.\n// See the possible constructors of ItemStackInfo.\nhoverEvent = new HoverEvent(HoverEvent.Action.SHOW_ITEM, new HoverEvent.ItemStackInfo(...));\n// Shows a complete tooltip of the given entity when hovered.\n// See the possible constructors of EntityTooltipInfo.\nhoverEvent = new HoverEvent(HoverEvent.Action.SHOW_ENTITY, new HoverEvent.EntityTooltipInfo(...));\n\n// Apply the events to a style.\nStyle clickable = Style.EMPTY.withClickEvent(clickEvent);\nStyle hoverable = Style.EMPTY.withHoverEvent(hoverEvent);\n'})}),"\n",(0,o.jsx)(n.h2,{id:"language-files",children:"Language Files"}),"\n",(0,o.jsxs)(n.p,{children:["Language files are JSON files that contain mappings from translation keys (see below) to actual names. They are located at ",(0,o.jsx)(n.code,{children:"assets/<modid>/lang/language_name.json"}),". For example, US English translations for a mod with id ",(0,o.jsx)(n.code,{children:"examplemod"})," would be located at ",(0,o.jsx)(n.code,{children:"assets/examplemod/lang/en_us.json"}),". A full list of languages supported by Minecraft can be found ",(0,o.jsx)(n.a,{href:"https://minecraft.wiki/w/Language",children:"here"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"A language file generally looks like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "translation.key.1": "Translation 1",\n  "translation.key.2": "Translation 2"\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"translation-keys",children:"Translation Keys"}),"\n",(0,o.jsxs)(n.p,{children:["Translation keys are the keys used in translations. In many cases, they follow the format ",(0,o.jsx)(n.code,{children:"registry.modid.name"}),". For example, a mod with the id ",(0,o.jsx)(n.code,{children:"examplemod"})," that provides a block named ",(0,o.jsx)(n.code,{children:"example_block"})," will probably want to provide translations for the key ",(0,o.jsx)(n.code,{children:"block.examplemod.example_block"}),". However, you can use basically any string as a translation key."]}),"\n",(0,o.jsxs)(n.p,{children:["If a translation key does not have an associated translation in the selected language, the game will fall back to US English (",(0,o.jsx)(n.code,{children:"en_us"}),"), if that is not already the selected language. If US English does not have a translation either, the translation will fail silently, and the raw translation key will be displayed instead."]}),"\n",(0,o.jsxs)(n.p,{children:["Some places in Minecraft offer you helper methods to get a translation keys. For example, both blocks and items provide ",(0,o.jsx)(n.code,{children:"#getDescriptionId"})," methods. These can not only be queried, but also overridden if needed. A common use case are items that have different names depending on their ",(0,o.jsx)(n.a,{href:"/Neoforge-Korean-Documentation/en/docs/datastorage/nbt",children:"NBT"})," value. These will usually override the variant of ",(0,o.jsx)(n.code,{children:"#getDescriptionId"})," that has an ",(0,o.jsx)(n.a,{href:"/Neoforge-Korean-Documentation/en/docs/items/#itemstacks",children:(0,o.jsx)(n.code,{children:"ItemStack"})})," parameter, and return different values based on the stack's NBT. Another common use case are ",(0,o.jsx)(n.code,{children:"BlockItem"}),"s, which override the method to use the associated block's translation key instead."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["The only purpose of translation keys is for localization. Do not use them for game logic, that's what ",(0,o.jsx)(n.a,{href:"/Neoforge-Korean-Documentation/en/docs/concepts/registries",children:"registry names"})," are for."]})}),"\n",(0,o.jsx)(n.h3,{id:"translating-mod-metadata",children:"Translating Mod Metadata"}),"\n",(0,o.jsxs)(n.p,{children:["Starting with NeoForge 20.4.179, translation files can override certain parts of ",(0,o.jsx)(n.a,{href:"/Neoforge-Korean-Documentation/en/docs/gettingstarted/modfiles#modstoml",children:"mod info"})," using the following keys (where ",(0,o.jsx)(n.code,{children:"modid"})," is to be replaced with the actual mod id):"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{}),(0,o.jsx)(n.th,{children:"Translation Key"}),(0,o.jsx)(n.th,{children:"Overriding"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Description"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"fml.menu.mods.info.description.modid"})}),(0,o.jsxs)(n.td,{children:["A field named ",(0,o.jsx)(n.code,{children:"description"})," may be placed in the ",(0,o.jsx)(n.code,{children:"[[mods]]"})," section instead."]})]})})]}),"\n",(0,o.jsx)(n.h3,{id:"datagen",children:"Datagen"}),"\n",(0,o.jsxs)(n.p,{children:["Language files can be ",(0,o.jsx)(n.a,{href:"/Neoforge-Korean-Documentation/en/docs/resources/#data-generation",children:"datagenned"}),". To do so, extend the ",(0,o.jsx)(n.code,{children:"LanguageProvider"})," class and add your translations in the ",(0,o.jsx)(n.code,{children:"addTranslations()"})," method:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'public class MyLanguageProvider extends LanguageProvider {\n    public MyLanguageProvider(PackOutput output) {\n        super(\n            // Provided by the GatherDataEvent.\n            output,\n            // Your mod id.\n            "examplemod",\n            // The locale to use. You may use multiple language providers for different locales.\n            "en_us"\n        );\n    }\n    \n    @Override\n    protected void addTranslations() {\n        // Adds a translation with the given key and the given value.\n        add("translation.key.1", "Translation 1");\n        \n        // Helpers are available for various common object types. Every helper has two variants: an add() variant\n        // for the object itself, and an addTypeHere() variant that accepts a supplier for the object.\n        // The different names for the supplier variants are required due to generic type erasure.\n        // All following examples assume the existence of the values as suppliers of the needed type.\n\n        // Adds a block translation.\n        add(MyBlocks.EXAMPLE_BLOCK.get(), "Example Block");\n        addBlock(MyBlocks.EXAMPLE_BLOCK, "Example Block");\n        // Adds an item translation.\n        add(MyItems.EXAMPLE_ITEM.get(), "Example Item");\n        addItem(MyItems.EXAMPLE_ITEM, "Example Item");\n        // Adds an item stack translation. This is mainly for items that have NBT-specific names.\n        add(MyItems.EXAMPLE_ITEM_STACK.get(), "Example Item");\n        addItemStack(MyItems.EXAMPLE_ITEM_STACK, "Example Item");\n        // Adds an entity type translation.\n        add(MyEntityTypes.EXAMPLE_ENTITY_TYPE.get(), "Example Entity");\n        addEntityType(MyEntityTypes.EXAMPLE_ENTITY_TYPE, "Example Entity");\n        // Adds an enchantment translation.\n        add(MyEnchantments.EXAMPLE_ENCHANTMENT.get(), "Example Enchantment");\n        addEnchantment(MyEnchantments.EXAMPLE_ENCHANTMENT, "Example Enchantment");\n        // Adds a mob effect translation.\n        add(MyMobEffects.EXAMPLE_MOB_EFFECT.get(), "Example Effect");\n        addEffect(MyMobEffects.EXAMPLE_MOB_EFFECT, "Example Effect");\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Then, register the provider like any other provider in the ",(0,o.jsx)(n.code,{children:"GatherDataEvent"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>i});var o=t(7294);const a={},s=o.createContext(a);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);